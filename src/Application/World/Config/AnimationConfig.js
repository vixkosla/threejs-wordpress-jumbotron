/**
 * КОНФИГУРАЦИЯ АНИМАЦИИ БЛОКОВ
 * =============================
 * 
 * Этот файл содержит все настраиваемые параметры анимации.
 * Изменяйте значения здесь, чтобы контролировать поведение блоков.
 * 
 * Быстрый доступ:
 * - Чувствительность к мыши/гироскопу: ANIMATION_CONFIG.input
 * - Физика движения: ANIMATION_CONFIG.physics
 * - Амплитуды и ограничения: ANIMATION_CONFIG.limits
 * - "Живая" анимация: ANIMATION_CONFIG.impulse
 */

// ============================================================================
// ГЛАВНАЯ КОНФИГУРАЦИЯ
// ============================================================================
export const ANIMATION_CONFIG = {
  
  // --------------------------------------------------------------------------
  // 1. ВХОДНЫЕ ДАННЫЕ (мышь/гироскоп)
  // --------------------------------------------------------------------------
  input: {
    // Мёртвая зона мыши - движения меньше этого значения игнорируются
    // Увеличьте если блоки двигаются слишком сильно от малейшего движения мыши
    deadZone: 0.05,
    
    // Cooldown между срабатываниями (мс) - защита от дерганий
    // Уменьшите для более быстрой реакции, увеличьте для плавности
    cooldownTime: 80,
    
    // Чувствительность к движению мыши
    // Увеличьте для более сильной реакции на движение мыши
    mouseSensitivity: 1.0,
  },
  
  // --------------------------------------------------------------------------
  // 2. ФИЗИКА ДВИЖЕНИЯ
  // --------------------------------------------------------------------------
  physics: {
    // Ускорение блоков от движения мыши (0.1-0.5)
    // Выше = блоки быстрее реагируют на движение мыши
    acceleration: 0.25,
    
    // Трение (замедление) (0.85-0.98)
    // Выше = блоки дольше скользят после движения
    // Ниже = блоки быстрее останавливаются
    friction: 0.92,
    
    // Скорость возврата к позиции покоя (0.01-0.15)
    // Выше = блоки быстрее возвращаются на место
    returnSpeed: 0.08,
    
    // Ускорение общей группы блоков (0.01-0.2)
    groupAcceleration: 0.08,
    
    // Трение общей группы
    groupFriction: 0.94,
    
    // Возврат общей группы
    groupReturnSpeed: 0.05,
  },
  
  // --------------------------------------------------------------------------
  // 3. АМПЛИТУДЫ И ОГРАНИЧЕНИЯ
  // --------------------------------------------------------------------------
  limits: {
    // Общий множитель амплитуды движения
    // Увеличьте для более размашистой анимации (1.0-4.0)
    amplitudeMultiplier: 2.5,
    
    // Максимальное смещение группы (всех блоков вместе)
    groupMaxOffset: 0.3,
    
    // Максимальное смещение индивидуального блока
    blockMaxOffset: 0.15,
    
    // Смещение блоков в покое (опускаем композицию)
    restOffsetY: -2,
    
    // T-блок получает только часть общего смещения (0.0-1.0)
    tBlockGroupFactor: 0.1,
  },
  
  // --------------------------------------------------------------------------
  // 4. STAGGER ЭФФЕКТ (задержки между блоками)
  // --------------------------------------------------------------------------
  stagger: {
    // Задержки для каждого из 6 блоков (в секундах)
    // Создаёт эффект "волны" при движении
    delays: [0, 0.15, 0.25, 0.35, 0.45, 0.55],
  },
  
  // --------------------------------------------------------------------------
  // 5. "ЖИВАЯ" АНИМАЦИЯ (случайные импульсы)
  // --------------------------------------------------------------------------
  impulse: {
    // Включить случайные импульсы (true/false)
    enabled: true,
    
    // Базовое время между импульсами (мс)
    baseTime: 1000,
    
    // Шанс импульса каждый кадр (0.0-1.0)
    chancePerFrame: 0.08,
    
    // Минимальное время между импульсами (умножается на phi)
    // ~1618мс по умолчанию
    minTimeMultiplier: 1.618,
    
    // Максимальное время между импульсами (умножается на phi^2)
    // ~2618мс по умолчанию
    maxTimeMultiplier: 2.618,
    
    // Сила импульса (очень маленькая, 0.001-0.05)
    force: 0.015,
    
    // Персональный cooldown для каждого блока
    // Каждый следующий блок медленнее на 30%
    blockCooldownFactor: 1.3,
  },
  
  // --------------------------------------------------------------------------
  // 6. T-БЛОК (левитация)
  // --------------------------------------------------------------------------
  tBlock: {
    // Скорость левитации (рад/сек)
    floatSpeed: 1.5,
    
    // Амплитуда левитации (вверх-вниз)
    floatAmplitude: 0.05,
  },
  
  // --------------------------------------------------------------------------
  // 7. ВЕКТОРЫ НАПРАВЛЕНИЯ БЛОКОВ
  // --------------------------------------------------------------------------
  // Каждый блок двигается вдоль своего вектора при движении мыши
  // Формат: [X, Y, Z] где:
  // - X: движение влево/вправо
  // - Y: движение вверх/вниз
  // - Z: движение к камере/от камеры
  //
  // Блок 0 (фиолетовый, левый нижний)
  pushVector0: { x: 0, y: -0.7, z: -1 },
  // Блок 1 (фиолетовый, центральный верхний)
  pushVector1: { x: 0.5, y: 1, z: 0 },
  // Блок 2 (белый, центральный нижний)
  pushVector2: { x: 1, y: 0, z: 0 },
  // Блок 3 (салатовый, верхний слева)
  pushVector3: { x: -0.7, y: 0.5, z: 0.5 },
  // Блок 4 (белый, следующий верхний)
  pushVector4: { x: 0.5, y: 0.5, z: 0 },
  // Блок 5 (белый, левый дальний)
  pushVector5: { x: -1, y: 0, z: 0 },
};

// ============================================================================
// КОНСТАНТЫ (не рекомендуется менять)
// ============================================================================

// Золотое сечение (используется для расчёта времени импульсов)
export const PHI = 1.618033988749895;

// Цвета блоков
export const COLORS = {
  PURPLE: 0xb8b8ff,  // лёгкий фиолетово-синий
  LIME: 0xa3e635,    // мягкий салатовый
  GLASS: 0xf8f9fa,   // стеклянный белый
};

// Позиции блоков (оригинальные, до смещения)
export const BLOCK_POSITIONS = [
  { position: [-2.0, 1, 0.5], color: COLORS.PURPLE },   // 0: левый нижний
  { position: [-0.5, 2, 2], color: COLORS.PURPLE },     // 1: центральный верхний
  { position: [-1.0, 0.5, 2.5], color: COLORS.GLASS },  // 2: центральный нижний
  { position: [-2, 2.5, 1], color: COLORS.LIME },       // 3: верхний слева
  { position: [-2, 2.5, 2.5], color: COLORS.GLASS },    // 4: следующий верхний
  { position: [-3, 1, 1], color: COLORS.GLASS },        // 5: левый дальний
];

// Позиция T-блока
export const T_BLOCK_POSITION = {
  position: [-0.5, 1.25, 1.0],
  color: COLORS.GLASS,
};
